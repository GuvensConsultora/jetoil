# -*- coding: utf-8 -*-

# -*- coding: utf-8 -*-
from odoo import models, fields, api
from odoo.exceptions import UserError

class AccountCheckActionWizard(models.TransientModel):
        # Aquí le decimos a Odoo: "Quiero modificar este modelo existente"
        _inherit = 'account.check.action.wizard'

            def action_confirm(self):
                        """
        Este método se ejecuta cuando pulsas el botón 'Confirm'.
        """
                                # --- ZONA 1: ANTES DE LA ACCIÓN ORIGINAL ---
                                        # Aquí puedes poner validaciones o lógica previa.
                                                # Por ejemplo, imprimir en el log para ver que funciona:
                                                        print("---------------------------------------------------------")
                                                                print(">>> ¡HOLA! El módulo JETOIL ha interceptado el botón <<<")
                                                                        print(f"Fecha seleccionada: {self.date}")
                                                                                print("---------------------------------------------------------")

                                                                                        # Si quieres detener todo si algo está mal, descomenta esto:
                                                                                                # if not self.date:
                                                                                                        #     raise UserError("¡Ey! No puedes confirmar sin fecha.")

                                                                                                                # --- ZONA 2: LA LLAMADA ORIGINAL (SUPER) ---
                                                                                                                        # Esta línea ejecuta el código original del módulo de cheques.
                                                                                                                                # Es vital para que el cheque realmente se procese.
                                                                                                                                        res = super(AccountCheckActionWizard, self).action_confirm()

                                                                                                                                                # --- ZONA 3: DESPUÉS DE LA ACCIÓN ORIGINAL ---
                                                                                                                                                        # Aquí el cheque ya se procesó. Puedes hacer cosas extra,
                                                                                                                                                                # como enviar un email, crear otro registro, etc.
                                                                                                                                                                        print(">>> El cheque ya fue procesado por Odoo. Terminando mi trabajo.")

                                                                                                                                                                                return res# -*- coding: utf-8 -*-
                                                                                                                                                                            from odoo import models, fields, api
                                                                                                                                                                            from odoo.exceptions import UserError

                                                                                                                                                                            class AccountCheckActionWizard(models.TransientModel):
                                                                                                                                                                                    # Aquí le decimos a Odoo: "Quiero modificar este modelo existente"
                                                                                                                                                                                    _inherit = 'account.check.action.wizard'

                                                                                                                                                                                        def action_confirm(self):
                                                                                                                                                                                                    """
        Este método se ejecuta cuando pulsas el botón 'Confirm'.
        """
                                                                                                                                                                                                            # --- ZONA 1: ANTES DE LA ACCIÓN ORIGINAL ---
                                                                                                                                                                                                                    # Aquí puedes poner validaciones o lógica previa.
                                                                                                                                                                                                                            # Por ejemplo, imprimir en el log para ver que funciona:
                                                                                                                                                                                                                                    print("---------------------------------------------------------")
                                                                                                                                                                                                                                            print(">>> ¡HOLA! El módulo JETOIL ha interceptado el botón <<<")
                                                                                                                                                                                                                                                    print(f"Fecha seleccionada: {self.date}")
                                                                                                                                                                                                                                                            print("---------------------------------------------------------")

                                                                                                                                                                                                                                                                    # Si quieres detener todo si algo está mal, descomenta esto:
                                                                                                                                                                                                                                                                            # if not self.date:
                                                                                                                                                                                                                                                                                    #     raise UserError("¡Ey! No puedes confirmar sin fecha.")

                                                                                                                                                                                                                                                                                            # --- ZONA 2: LA LLAMADA ORIGINAL (SUPER) ---
                                                                                                                                                                                                                                                                                                    # Esta línea ejecuta el código original del módulo de cheques.
                                                                                                                                                                                                                                                                                                            # Es vital para que el cheque realmente se procese.
                                                                                                                                                                                                                                                                                                                    res = super(AccountCheckActionWizard, self).action_confirm()

                                                                                                                                                                                                                                                                                                                            # --- ZONA 3: DESPUÉS DE LA ACCIÓN ORIGINAL ---
                                                                                                                                                                                                                                                                                                                                    # Aquí el cheque ya se procesó. Puedes hacer cosas extra,
                                                                                                                                                                                                                                                                                                                                            # como enviar un email, crear otro registro, etc.
                                                                                                                                                                                                                                                                                                                                                    print(">>> El cheque ya fue procesado por Odoo. Terminando mi trabajo.")

                                                                                                                                                                                                                                                                                                                                                            return res
